<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: Emendate::FormatStandardizer
  
    &mdash; Documentation by YARD 0.9.34
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "Emendate::FormatStandardizer";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (F)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../Emendate.html" title="Emendate (module)">Emendate</a></span></span>
     &raquo; 
    <span class="title">FormatStandardizer</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: Emendate::FormatStandardizer
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">Emendate::FormatStandardizer</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  <dl>
      <dt>Includes:</dt>
      <dd><span class='object_link'><a href="DateUtils.html" title="Emendate::DateUtils (module)">DateUtils</a></span>, <span class='object_link'><a href="ResultEditable.html" title="Emendate::ResultEditable (module)">ResultEditable</a></span></dd>
  </dl>
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/emendate/format_standardizer.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>Makes the format of date patterns more consistent.</p>

<p>Collapses some segments (e.g. comma in “Jan 1, 2000”).</p>

<p>Adds blank-lexeme segments (e.g. changing “Jan 2-5 2000” to “Jan 2 2000 - Jan 5 2000). These add the necessary type and literal information without changing the lexeme value.</p>

<p>The next processing step (<span class='object_link'><a href="DatePartTagger.html" title="Emendate::DatePartTagger (class)">DatePartTagger</a></span>) assumes date parts will be in orders:</p>
<ul><li>
<p>month day year</p>
</li><li>
<p>season year</p>
</li><li>
<p>month year</p>
</li><li>
<p>number century</p>
</li></ul>

<p>When segments are in different orders, this class directly converts them to date type segments. Changing the order of segments messes up the lexeme value, so we simplify later processing by converting directly to date type segments when we can.</p>


  </div>
</div>
<div class="tags">
  

</div>






  
    <h2>
      Class Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#call-class_method" title="call (class method)">.<strong>call</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#call-instance_method" title="#call (instance method)">#<strong>call</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(tokens)  &#x21d2; FormatStandardizer </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>A new instance of FormatStandardizer.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="ResultEditable.html" title="Emendate::ResultEditable (module)">ResultEditable</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="ResultEditable.html#collapse_enclosing_tokens-instance_method" title="Emendate::ResultEditable#collapse_enclosing_tokens (method)">#collapse_enclosing_tokens</a></span>, <span class='object_link'><a href="ResultEditable.html#collapse_first_token-instance_method" title="Emendate::ResultEditable#collapse_first_token (method)">#collapse_first_token</a></span>, <span class='object_link'><a href="ResultEditable.html#collapse_last_token-instance_method" title="Emendate::ResultEditable#collapse_last_token (method)">#collapse_last_token</a></span>, <span class='object_link'><a href="ResultEditable.html#collapse_segments_backward-instance_method" title="Emendate::ResultEditable#collapse_segments_backward (method)">#collapse_segments_backward</a></span>, <span class='object_link'><a href="ResultEditable.html#collapse_segments_forward-instance_method" title="Emendate::ResultEditable#collapse_segments_forward (method)">#collapse_segments_forward</a></span>, <span class='object_link'><a href="ResultEditable.html#collapse_token_pair-instance_method" title="Emendate::ResultEditable#collapse_token_pair (method)">#collapse_token_pair</a></span>, <span class='object_link'><a href="ResultEditable.html#collapse_token_pair_backward-instance_method" title="Emendate::ResultEditable#collapse_token_pair_backward (method)">#collapse_token_pair_backward</a></span>, <span class='object_link'><a href="ResultEditable.html#collapse_token_pair_forward-instance_method" title="Emendate::ResultEditable#collapse_token_pair_forward (method)">#collapse_token_pair_forward</a></span>, <span class='object_link'><a href="ResultEditable.html#new_date_part-instance_method" title="Emendate::ResultEditable#new_date_part (method)">#new_date_part</a></span>, <span class='object_link'><a href="ResultEditable.html#replace_multi_with_date_part_type-instance_method" title="Emendate::ResultEditable#replace_multi_with_date_part_type (method)">#replace_multi_with_date_part_type</a></span>, <span class='object_link'><a href="ResultEditable.html#replace_segments_with_derived_new_type-instance_method" title="Emendate::ResultEditable#replace_segments_with_derived_new_type (method)">#replace_segments_with_derived_new_type</a></span>, <span class='object_link'><a href="ResultEditable.html#replace_segments_with_new-instance_method" title="Emendate::ResultEditable#replace_segments_with_new (method)">#replace_segments_with_new</a></span>, <span class='object_link'><a href="ResultEditable.html#replace_x_with_date_part_type-instance_method" title="Emendate::ResultEditable#replace_x_with_date_part_type (method)">#replace_x_with_date_part_type</a></span>, <span class='object_link'><a href="ResultEditable.html#replace_x_with_derived_new_type-instance_method" title="Emendate::ResultEditable#replace_x_with_derived_new_type (method)">#replace_x_with_derived_new_type</a></span>, <span class='object_link'><a href="ResultEditable.html#replace_x_with_given_segment-instance_method" title="Emendate::ResultEditable#replace_x_with_given_segment (method)">#replace_x_with_given_segment</a></span>, <span class='object_link'><a href="ResultEditable.html#replace_x_with_new-instance_method" title="Emendate::ResultEditable#replace_x_with_new (method)">#replace_x_with_new</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="DateUtils.html" title="Emendate::DateUtils (module)">DateUtils</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="DateUtils.html#expand_shorter_digits-instance_method" title="Emendate::DateUtils#expand_shorter_digits (method)">#expand_shorter_digits</a></span>, <span class='object_link'><a href="DateUtils.html#is_range%3F-instance_method" title="Emendate::DateUtils#is_range? (method)">#is_range?</a></span>, <span class='object_link'><a href="DateUtils.html#max_season-instance_method" title="Emendate::DateUtils#max_season (method)">#max_season</a></span>, <span class='object_link'><a href="DateUtils.html#min_season-instance_method" title="Emendate::DateUtils#min_season (method)">#min_season</a></span>, <span class='object_link'><a href="DateUtils.html#month_abbr_literal-instance_method" title="Emendate::DateUtils#month_abbr_literal (method)">#month_abbr_literal</a></span>, <span class='object_link'><a href="DateUtils.html#month_literal-instance_method" title="Emendate::DateUtils#month_literal (method)">#month_literal</a></span>, <span class='object_link'><a href="DateUtils.html#possible_range%3F-instance_method" title="Emendate::DateUtils#possible_range? (method)">#possible_range?</a></span>, <span class='object_link'><a href="DateUtils.html#valid_date%3F-instance_method" title="Emendate::DateUtils#valid_date? (method)">#valid_date?</a></span>, <span class='object_link'><a href="DateUtils.html#valid_day%3F-instance_method" title="Emendate::DateUtils#valid_day? (method)">#valid_day?</a></span>, <span class='object_link'><a href="DateUtils.html#valid_month%3F-instance_method" title="Emendate::DateUtils#valid_month? (method)">#valid_month?</a></span>, <span class='object_link'><a href="DateUtils.html#valid_month_or_season%3F-instance_method" title="Emendate::DateUtils#valid_month_or_season? (method)">#valid_month_or_season?</a></span>, <span class='object_link'><a href="DateUtils.html#valid_season%3F-instance_method" title="Emendate::DateUtils#valid_season? (method)">#valid_season?</a></span>, <span class='object_link'><a href="DateUtils.html#valid_year%3F-instance_method" title="Emendate::DateUtils#valid_year? (method)">#valid_year?</a></span></p>
<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>(tokens)  &#x21d2; <tt><span class='object_link'><a href="" title="Emendate::FormatStandardizer (class)">FormatStandardizer</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a new instance of FormatStandardizer.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


38
39
40</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/emendate/format_standardizer.rb', line 38</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_tokens'>tokens</span><span class='rparen'>)</span>
  <span class='ivar'>@result</span> <span class='op'>=</span> <span class='id identifier rubyid_tokens'>tokens</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='period'>.</span><span class='id identifier rubyid_copy'>copy</span><span class='lparen'>(</span><span class='id identifier rubyid_tokens'>tokens</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>


  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="call-class_method">
  
    .<strong>call</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


33
34
35</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/emendate/format_standardizer.rb', line 33</span>

<span class='kw'>def</span> <span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='op'>...</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='op'>...</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="call-instance_method">
  
    #<strong>call</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


42
43
44
45
46
47
48
49
50</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/emendate/format_standardizer.rb', line 42</span>

<span class='kw'>def</span> <span class='id identifier rubyid_call'>call</span>
  <span class='kw'>while</span> <span class='id identifier rubyid_standardizable'>standardizable</span>
    <span class='id identifier rubyid_function'>function</span> <span class='op'>=</span> <span class='id identifier rubyid_determine_standardizer'>determine_standardizer</span>
    <span class='kw'>break</span> <span class='kw'>if</span> <span class='id identifier rubyid_function'>function</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>

    <span class='id identifier rubyid_function'>function</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span>
  <span class='kw'>end</span>
  <span class='const'>Success</span><span class='lparen'>(</span><span class='id identifier rubyid_result'>result</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Sat Jan 13 23:41:50 2024 by
  <a href="https://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.34 (ruby-2.7.8).
</div>

    </div>
  </body>
</html>